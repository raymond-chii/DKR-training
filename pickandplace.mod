MODULE CALLUM_PICKPLACE
    VAR num zCoordinatePick := 82.29;
    !VAR num zCoordinatePlace := 4.28;
    VAR num boxheight := 56;
    PERS tooldata Gripper20:=[TRUE,[[0,0,117.12],[1,0,0,0]],[0.5,[4007.96,-1666.27,-2260.59],[1,0,0,0],0,0,0]];
    CONST robtarget ABOVE:=[[1123.500022359,353.610039179,222.28999782],[0.000057044,-0.607017545,-0.794688425,0.000061807],[0,2,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget ABOVE2:=[[226.000105444,1103.930062489,114.280136043],[0.000929906,0.169424966,0.985513497,0.007580504],[0,1,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget HOMER:=[[1075.781535242,335.412720363,756.545651942],[0.000049179,-0.707080014,-0.707133542,0.000061905],[0,2,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget ABOVE10:=[[725.94,623.65,504.91],[4.91854E-05,-0.707064,-0.70715,7.87092E-05],[0,2,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    !CONST robtarget BOXPICK:=[[1123.5,353.61,zCoordinatePick],[0.000057362,-0.607017,-0.794688,0.000061829],[0,2,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    !CONST robtarget BOXDROP:=[[215.40,1107.53,zCoordinatePlace],[0.00205449,0.0200724,0.999769,0.00735587],[0,1,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
	PROC CAL_PICKPLACE()
        
        MoveAbsJ [[17.3164,26.5923,32.1025,180.002,-57.9064,-162.689],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]]\NoEOffs,v1000,z50,Gripper20;
        FOR i FROM 0 TO 1 DO
        
		!MoveAbsJ [[17.3164,26.5923,32.1025,180.002,-57.9064,-162.689],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]]\NoEOffs,v1000,z50,Gripper20;
		MoveJ ABOVE,v1000,z100,Gripper20\WObj:=wobj0;
		MoveL [[1123.5,353.61,(zCoordinatePick+boxheight)-i*boxheight],[0.000057362,-0.607017,-0.794688,0.000061829],[0,2,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],v600,fine,Gripper20;
        SetDO D_652_10_OUT0, 1;
		MoveL ABOVE,v1000,z100,Gripper20\WObj:=wobj0;
		MoveJ ABOVE10, v1000, z100, Gripper20;
		MoveJ [[226.000105444,1103.930062489,(1+i)*114.280136043],[0.000929906,0.169424966,0.985513497,0.007580504],[0,1,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],v1000,z100,Gripper20\WObj:=wobj0;
		MoveL [[215.40,1107.53,4.28+i*boxheight],[0.00205449,0.0200724,0.999769,0.00735587],[0,1,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],v600,fine,Gripper20;
        SetDO D_652_10_OUT0, 0;
        MoveL [[226.000105444,1103.930062489,(1+i)*114.280136043],[0.000929906,0.169424966,0.985513497,0.007580504],[0,1,-2,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]],v1000,z100,Gripper20\WObj:=wobj0;
        !MoveJ HOMER,v1000,z100,Gripper20\WObj:=wobj0;
        MoveJ ABOVE10, v1000, z100, Gripper20;
        ENDFOR
        MoveJ HOMER,v1000,z100,Gripper20\WObj:=wobj0;
        
	ENDPROC

ENDMODULE